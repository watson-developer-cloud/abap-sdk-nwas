<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><title>Class ZCL_IBMC_SERVICE_EXT</title><link rel="stylesheet" href="../../../htmldesign/stylesheet.css" type="text/css"></head><body><div id="header"><div id="navigationMenu"><a href="#types">Types</a> | <a href="#constants">Constants</a> | <a href="#attributes">Attributes</a> | <a href="#methods">Methods</a></div></div><div id="content"><h2>Class <span class="identifier objectName">ZCL_IBMC_SERVICE_EXT</span></h2><p>public inheriting from ZCL_IBMC_SERVICE create public</p><h4>Documentation</h4><span title="Short Text">Extended&#x20;REST&#x20;API&#x20;service&#x20;class</span><h4 id="types">Types</h4><table><thead><tr><th>Visibility and Level</th><th>Name</th><th>Documentation</th></tr></thead><tr ><td>public</td><td><span class="identifier fieldName">ts_oauth_prop</span> (structured type)</td><td>&#160;</td></tr><tr ><td>public</td><td><span class="identifier fieldName">ty_image_class</span> type STRING</td><td>&#160;</td></tr><tr ><td>public</td><td><span class="identifier fieldName">ty_image_format</span> (typing)</td><td>&#160;</td></tr><tr ><td>public</td><td><span class="identifier fieldName">ty_instance_id</span> (typing)</td><td>&#160;</td></tr><tr ><td>public</td><td><span class="identifier fieldName">ty_servicename</span> (typing)</td><td>&#160;</td></tr></table><h4 id="constants">Constants</h4><table><thead><tr><th>Visibility and Level</th><th>Name</th><th>Documentation</th></tr></thead><tr ><td>public static</td><td><span class="identifier fieldName">c_field_none</span> type FIELDNAME value&#x20;&#x27;&#x23;&#x23;&#x23;&#x27;</td><td><span title="Short Text">Field&#x20;Name</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_format_all</span> type TY_IMAGE_FORMAT value&#x20;&#x27;&#x2a;&#x27;</td><td><span title="Short Text">Image&#x20;encoding&#x20;&#x28;jpg,&#x20;png,&#x20;...&#x29;</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_format_gif</span> type TY_IMAGE_FORMAT value&#x20;&#x27;gif&#x27;</td><td><span title="Short Text">Image&#x20;encoding&#x20;&#x28;jpg,&#x20;png,&#x20;...&#x29;</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_format_jpg</span> type TY_IMAGE_FORMAT value&#x20;&#x27;jpg&#x27;</td><td><span title="Short Text">Image&#x20;encoding&#x20;&#x28;jpg,&#x20;png,&#x20;...&#x29;</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_format_png</span> type TY_IMAGE_FORMAT value&#x20;&#x27;png&#x27;</td><td><span title="Short Text">Image&#x20;encoding&#x20;&#x28;jpg,&#x20;png,&#x20;...&#x29;</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_format_tif</span> type TY_IMAGE_FORMAT value&#x20;&#x27;tif&#x27;</td><td><span title="Short Text">Image&#x20;encoding&#x20;&#x28;jpg,&#x20;png,&#x20;...&#x29;</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_format_unknown</span> type TY_IMAGE_FORMAT value&#x20;&#x27;&#x23;&#x23;&#x23;&#x27;</td><td><span title="Short Text">Image&#x20;encoding&#x20;&#x28;jpg,&#x20;png,&#x20;...&#x29;</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_format_zip</span> type TY_IMAGE_FORMAT value&#x20;&#x27;zip&#x27;</td><td><span title="Short Text">Image&#x20;encoding&#x20;&#x28;jpg,&#x20;png,&#x20;...&#x29;</span></td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_iam_token_host</span> type STRING value&#x20;&#x27;iam.cloud.ibm.com&#x27;</td><td>&#160;</td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_iam_token_path</span> type STRING value&#x20;&#x27;&#x2f;identity&#x2f;token&#x27;</td><td>&#160;</td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_icp4d_token_path</span> type STRING value&#x20;&#x27;&#x2f;v1&#x2f;preauth&#x2f;validateAuth&#x27;</td><td>&#160;</td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_token_generation_always</span> type CHAR value&#x20;&#x27;A&#x27;</td><td>&#160;</td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_token_generation_auto</span> type CHAR value&#x20;SPACE</td><td>&#160;</td></tr><tr ><td>public static</td><td><span class="identifier fieldName">c_token_generation_never</span> type CHAR value&#x20;&#x27;N&#x27;</td><td>&#160;</td></tr></table><h4 id="attributes">Attributes</h4><table><thead><tr><th>Visibility and Level</th><th>Name</th><th>Documentation</th></tr></thead><tr ><td>public instance</td><td><span class="identifier fieldName">p_instance_id</span> type TY_INSTANCE_ID  </td><td>&#160;</td></tr><tr ><td>public instance</td><td><span class="identifier fieldName">p_servicename</span> type TY_SERVICENAME  </td><td>&#160;</td></tr></table><h4 id="methods">Methods</h4><table><thead><tr><th>Visibility and Level</th><th>Name</th><th>Documentation</th></tr></thead><tr ><td>public static</td><td><table class="methodSignature"><tr><td colspan="3"><span class="identifier methodName">get_instance</span> </td></tr><tr><td>importing</td><td><span class="identifier parameterName">i_instance_id</span></td><td>type TY_INSTANCE_ID optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_url</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_host</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_username</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_password</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_proxy_host</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_proxy_port</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_apikey</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_auth_method</span></td><td>type STRING default C_DEFAULT</td></tr><tr><td></td><td><span class="identifier parameterName">i_oauth_prop</span></td><td>type TS_OAUTH_PROP optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_access_token</span></td><td>type TS_ACCESS_TOKEN optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_token_generation</span></td><td>type CHAR default C_TOKEN_GENERATION_AUTO</td></tr><tr><td></td><td><span class="identifier parameterName">i_request_headers</span></td><td>type STRING optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_version</span></td><td>type STRING optional</td></tr><tr><td>exporting</td><td>value(<span class="identifier parameterName">eo_instance</span>)</td><td>type ANY</td></tr></table></td><td><span class="abapDocComment"> <p class="shorttext synchronized" lang="en">Factory method to instantiate a service specific wrapper class.</p>

 </span><h5>Parameters</h5><table class="methodParametersDocumentation"><tr ><td><span class="identifier parameterName">i_instance_id</span></td><td><span class="abapDocComment">
   Value of field INSTANCE_UID in table ZIBMC_CONFIG.
   Service credentials are read from table ZIBMC_CONFIG with key SERVICE = Name of service wrapper class without prefix ZCL_IBMC_ and INSTANCE_UID.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_url</span></td><td><span class="abapDocComment"> URL of the service.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_host</span></td><td><span class="abapDocComment"> Host of the service. I_URL and I_HOST can be used synonymously.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_username</span></td><td><span class="abapDocComment"> User password to authenticate on service.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_password</span></td><td><span class="abapDocComment"> User password to authenticate on service.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_proxy_host</span></td><td><span class="abapDocComment"> Proxy server, not applicable on SAP Cloud Platform.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_proxy_port</span></td><td><span class="abapDocComment"> Proxy server port, not applicable on SAP Cloud Platform.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_apikey</span></td><td><span class="abapDocComment"> API key password to authenticate on service.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_auth_method</span></td><td><span class="abapDocComment"> Authentication method. Possible values are "IAM", "ICP4D", "basicAuth", "NONE".
 </span></td></tr><tr ><td><span class="identifier parameterName">i_oauth_prop</span></td><td><span class="abapDocComment"> Credentials to generate token for OAuth authentication.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_token_generation</span></td><td><span class="abapDocComment"> Method for access token refresh: <br/>
   C_TOKEN_GENERATION_NEVER - Access token is not refreshed.
   C_TOKEN_GENERATION_ALWAYS - Access to token is refreshed for each service call.
   C_TOKEN_GENERATION_AUTO - Access to token is refreshed just before it expires.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_request_headers</span></td><td><span class="abapDocComment"> List of headers sent with every request, format 'Header1=Value1;Header2=Value2'.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_version</span></td><td><span class="abapDocComment"> Value of query parameter VERSION.
</span></td></tr></table></td></tr><tr ><td>public static</td><td><table class="methodSignature"><tr><td colspan="3"><span class="identifier methodName">get_zipdata</span> </td></tr><tr><td>importing</td><td><span class="identifier parameterName">it_examples</span></td><td>type ANY TABLE</td></tr><tr><td></td><td><span class="identifier parameterName">iv_field_class</span></td><td>type FIELDNAME default C_FIELD_NONE</td></tr><tr><td></td><td><span class="identifier parameterName">iv_field_filename</span></td><td>type FIELDNAME optional</td></tr><tr><td></td><td><span class="identifier parameterName">iv_field_image</span></td><td>type FIELDNAME optional</td></tr><tr><td></td><td><span class="identifier parameterName">iv_image_format</span></td><td>type TY_IMAGE_FORMAT optional</td></tr><tr><td></td><td><span class="identifier parameterName">iv_image_name</span></td><td>type STRING optional</td></tr><tr><td>exporting</td><td><span class="identifier parameterName">et_zipdata</span></td><td>type TT_MAP_FILE</td></tr><tr><td>raising</td><td colspan="2"><span class="identifier exceptionName">zcx_ibmc_service_exception</span></td></tr></table></td><td><span class="abapDocComment"> <p class="shorttext synchronized" lang="en">Compresses multiple images from an internal table</p> to a one or more xstrings in ZIP format.

 </span><h5>Parameters</h5><table class="methodParametersDocumentation"><tr ><td><span class="identifier parameterName">it_examples</span></td><td><span class="abapDocComment"> Internal table of images.
 </span></td></tr><tr ><td><span class="identifier parameterName">iv_field_class</span></td><td><span class="abapDocComment">
   Field in IT_EXAMPLES that contains the file class.
   All records in IT_EXAMPLES with same class will be compress into one ZIP xstring.
 </span></td></tr><tr ><td><span class="identifier parameterName">iv_field_filename</span></td><td><span class="abapDocComment"> Field in IT_EXAMPLES that contains the filename for the image.
 </span></td></tr><tr ><td><span class="identifier parameterName">iv_field_image</span></td><td><span class="abapDocComment"> Field in IT_EXAMPLES that contains the image.
 </span></td></tr><tr ><td><span class="identifier parameterName">iv_image_format</span></td><td><span class="abapDocComment"> Format of the image. Possible values are
   C_FORMAT_JPG, C_FORMAT_PNG, C_FORMAT_GIF, C_FORMAT_TIF, C_FORMAT_ALL.
 </span></td></tr><tr ><td><span class="identifier parameterName">iv_image_name</span></td><td><span class="abapDocComment"> Name of the image.
 </span></td></tr><tr ><td><span class="identifier parameterName">et_zipdata</span></td><td><span class="abapDocComment"> Internal table containing a compressed ZIP xstring for each image class.
 </span></td></tr></table><h5>Class-based Exceptions</h5><table class="exceptions"><tr ><td><span class="identifier exceptionName">zcx_ibmc_service_exception</span></td><td><span class="abapDocComment"> Exception being raised in case of an error.
</span></td></tr></table></td></tr><tr ><td>public instance</td><td><span class="identifier methodName">get_access_token</span> redefinition</td><td>&#160;</td></tr><tr ><td>public instance</td><td><table class="methodSignature"><tr><td colspan="3"><span class="identifier methodName">get_bearer_token</span> </td></tr><tr><td>returning</td><td>value(<span class="identifier parameterName">e_bearer_token</span>)</td><td>type STRING</td></tr></table></td><td><span class="abapDocComment"> <p class="shorttext synchronized" lang="en">Returns the bearer token, if available.</p>

 </span><h5>Parameters</h5><table class="methodParametersDocumentation"><tr ><td><span class="identifier parameterName">e_bearer_token</span></td><td><span class="abapDocComment"> Access token.
</span></td></tr></table></td></tr><tr ><td>public instance</td><td><table class="methodSignature"><tr><td colspan="3"><span class="identifier methodName">get_config_value</span> </td></tr><tr><td>importing</td><td><span class="identifier parameterName">i_default</span></td><td>type ZIBMC_CONFIG-VALUE optional</td></tr><tr><td></td><td><span class="identifier parameterName">i_param</span></td><td>type ZIBMC_CONFIG-PARAM</td></tr><tr><td>returning</td><td>value(<span class="identifier parameterName">e_value</span>)</td><td>type ZIBMC_CONFIG-VALUE</td></tr><tr><td>raising</td><td colspan="2"><span class="identifier exceptionName">zcx_ibmc_service_exception</span></td></tr></table></td><td><span class="abapDocComment"> <p class="shorttext synchronized" lang="en">Retrieves a value of a configuration parameter</p> from table ZIBMC_CONFIG.

 </span><h5>Parameters</h5><table class="methodParametersDocumentation"><tr ><td><span class="identifier parameterName">i_default</span></td><td><span class="abapDocComment"> Default value, if configuration parameter is not found.
 </span></td></tr><tr ><td><span class="identifier parameterName">i_param</span></td><td><span class="abapDocComment"> Configuration parameter name.
</span></td></tr></table></td></tr><tr ><td>public instance</td><td><span class="identifier methodName">get_request_prop</span> redefinition</td><td>&#160;</td></tr><tr ><td>public instance</td><td><table class="methodSignature"><tr><td colspan="3"><span class="identifier methodName">get_sdk_version_date</span> </td></tr><tr><td>returning</td><td>value(<span class="identifier parameterName">e_sdk_version_date</span>)</td><td>type STRING</td></tr></table></td><td><span class="abapDocComment"> <p class="shorttext synchronized" lang="en">Returns the SDK built date.</p>

 </span><h5>Parameters</h5><table class="methodParametersDocumentation"><tr ><td><span class="identifier parameterName">e_sdk_version_date</span></td><td><span class="abapDocComment"> Built data in format YYYYMMDD.
</span></td></tr></table></td></tr><tr ><td>public instance</td><td><table class="methodSignature"><tr><td colspan="3"><span class="identifier methodName">set_bearer_token</span> </td></tr><tr><td>importing</td><td><span class="identifier parameterName">i_bearer_token</span></td><td>type STRING</td></tr></table></td><td><span class="abapDocComment"> <p class="shorttext synchronized" lang="en">Method for internal use.</p>
</span></td></tr></table></div><div id="footer">Generated on 12.03.2020</div></body></html>